{"map":"{\"version\":3,\"sources\":[\"speakerBadge.bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"15\",\"_SpeakerBadgePage\",\"badgeElement\",\"document\",\"querySelector\",\"SpeakerBadgePage\",\"16\",\"undefined\",\"_createClass\",\"defineProperties\",\"target\",\"props\",\"length\",\"descriptor\",\"configurable\",\"writable\",\"Constructor\",\"protoProps\",\"staticProps\",\"_grayscale\",\"element\",\"instance\",\"TypeError\",\"_classCallCheck\",\"this\",\"canvas\",\"busyElement\",\"speakerId\",\"getAttribute\",\"speakerName\",\"addEventListener\",\"handleDragOver\",\"handleDrop\",\"drawBadge\",\"event\",\"stopPropagation\",\"preventDefault\",\"dataTransfer\",\"dropEffect\",\"_this\",\"files\",\"file\",\"isImageType\",\"type\",\"busy\",\"readFile\",\"then\",\"loadImage\",\"grayscaleImage\",\"notBusy\",\"alert\",\"image\",\"context\",\"getContext\",\"drawBackground\",\"drawTopText\",\"drawSpeakerName\",\"drawSpeakerImage\",\"drawImagePlaceholder\",\"drawBarCode\",\"fillStyle\",\"fillRect\",\"width\",\"height\",\"size\",\"Math\",\"min\",\"sourceX\",\"sourceY\",\"drawImage\",\"strokeStyle\",\"strokeRect\",\"font\",\"textBaseline\",\"textAlign\",\"fillText\",\"text\",\"encodings\",\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"*\",\"x\",\"charIndex\",\"code\",\"stripeIndex\",\"charCodeAt\",\"indexOf\",\"Promise\",\"resolve\",\"reject\",\"reader\",\"FileReader\",\"onload\",\"loadEvent\",\"fileDataUrl\",\"result\",\"readAsDataURL\",\"imageUrl\",\"Image\",\"src\",\"style\",\"display\",\"17\",\"temporaryCanvas\",\"createElement\",\"setAttribute\",\"imageData\",\"getImageData\",\"worker\",\"Worker\",\"clearRect\",\"putImageData\",\"postMessage\",\"18\",\"grayscalePixel\",\"pixels\",\"index\",\"brightness\",\"data\",\"done\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/dist/\",n(n.s=15)}({15:function(e,t,n){\"use strict\";var a=n(16),r=document.querySelector(\".badge\");new a.SpeakerBadgePage(r)},16:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SpeakerBadgePage=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(17);t.SpeakerBadgePage=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.canvas=t.querySelector(\"canvas\"),this.busyElement=t.querySelector(\".busy\"),this.speakerId=this.canvas.getAttribute(\"data-speaker-id\"),this.speakerName=this.canvas.getAttribute(\"data-speaker-name\"),this.canvas.addEventListener(\"dragover\",this.handleDragOver.bind(this)),this.canvas.addEventListener(\"drop\",this.handleDrop.bind(this)),this.drawBadge()}return a(e,[{key:\"handleDragOver\",value:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect=\"copy\"}},{key:\"handleDrop\",value:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files;if(0!=n.length){var a=n[0];this.isImageType(a.type)?(this.busy(),this.readFile(a).then((function(e){return t.loadImage(e)})).then((function(e){return(0,r.grayscaleImage)(e)})).then((function(e){return t.notBusy(e)}))):alert(\"Please drop an image file.\")}}},{key:\"drawBadge\",value:function(e){this.context=this.canvas.getContext(\"2d\"),this.drawBackground(),this.drawTopText(),this.drawSpeakerName(),e?this.drawSpeakerImage(e):this.drawImagePlaceholder(),this.drawBarCode(this.speakerId)}},{key:\"drawBackground\",value:function(){this.context.fillStyle=\"white\",this.context.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:\"drawSpeakerImage\",value:function(e){var t=Math.min(e.width,e.height),n=e.width/2-t/2,a=e.height/2-t/2;this.context.drawImage(e,n,a,t,t,20,20,160,160)}},{key:\"drawImagePlaceholder\",value:function(){this.context.strokeStyle=\"2px #888\",this.context.strokeRect(20,20,160,160),this.context.font=\"12px sans-serif\",this.context.textBaseline=\"middle\",this.context.textAlign=\"center\",this.context.fillStyle=\"black\",this.context.fillText(\"Drag your profile photo here\",100,100)}},{key:\"drawTopText\",value:function(){this.context.font=\"20px sans-serif\",this.context.fillStyle=\"black\",this.context.textBaseline=\"top\",this.context.textAlign=\"left\",this.context.fillText(\"ContosoConf 2013 Speaker:\",200,20)}},{key:\"drawSpeakerName\",value:function(){this.context.font=\"40px sans-serif\",this.context.fillStyle=\"black\",this.context.textBaseline=\"top\",this.context.textAlign=\"left\",this.context.fillText(this.speakerName,200,60)}},{key:\"drawBarCode\",value:function(e){e=\"*\"+e+\"*\";for(var t={0:\"bwbWBwBwb\",1:\"BwbWbwbwB\",2:\"bwBWbwbwB\",3:\"BwBWbwbwb\",4:\"bwbWBwbwB\",5:\"BwbWBwbwb\",6:\"bwBWBwbwb\",7:\"bwbWbwBwB\",8:\"BwbWbwBwb\",9:\"bwBWbwBwb\",\"*\":\"bWbwBwBwb\"},n=200,a=0;a<e.length;a++){for(var r=t[e[a]],i=0;i<r.length;i++){this.context.fillStyle=i%2==0?\"black\":\"white\",r.charCodeAt(i)<91?(this.context.fillRect(n,140,6,40),n+=6):(this.context.fillRect(n,140,2,40),n+=2)}a<e.length-1&&(this.context.fillStyle=\"white\",this.context.fillRect(n,140,2,40),n+=2)}}},{key:\"isImageType\",value:function(e){return 0===[\"image/jpeg\",\"image/jpg\",\"image/png\"].indexOf(e)}},{key:\"readFile\",value:function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){var n=e.target.result;t([n])},a.readAsDataURL(e)}))}},{key:\"loadImage\",value:function(e){return new Promise((function(t,n){var a=new Image;a.onload=function(){t(a)},a.src=e}))}},{key:\"busy\",value:function(){this.busyElement.style.display=\"block\"}},{key:\"notBusy\",value:function(){this.busyElement.style.display=\"none\"}}]),e}()},17:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.grayscaleImage=function(e){return new Promise((function(t,n){var a,r,i=(a=e,(r=document.createElement(\"canvas\")).setAttribute(\"width\",a.width),r.setAttribute(\"height\",a.height),r),o=i.getContext(\"2d\"),s=function(e,t){return e.drawImage(t,0,0),e.getImageData(0,0,t.width,t.height)}(o,e),l=new Worker(\"/scripts/grayscale-worker.js\");l.addEventListener(\"message\",function(e){o.clearRect(0,0,i.width,i.height),o.putImageData(s,0,0),t([i])}.bind(this)),l.postMessage(s)}))};n(18)},18:function(e,t,n){\"use strict\";function a(e,t){var n=.34*e[t]+.5*e[t+1]+.16*e[t+2];e[t]=n,e[t+1]=n,e[t+2]=n}addEventListener(\"message\",(function(e){for(var t=e.data,n=t.data,r=0;r<n.length;r+=4)a(n,r);postMessage({done:t})}))}});","extractedComments":[]}